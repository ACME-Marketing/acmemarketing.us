---
interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		
	</head>
	<body>
		<header class="bg-blue-800 text-white py-4 shadow-md">
			<div class="container mx-auto flex flex-col md:flex-row justify-between items-center px-4">
				<h1 class="text-3xl font-extrabold mb-2 md:mb-0"><a href="/" class="hover:text-red-400">ACME Marketing</a></h1>
				<nav>
					<ul class="flex flex-wrap justify-center space-x-4 text-lg">
						<li><a href="/" class="hover:text-red-400 transition duration-300">Home</a></li>
						<li><a href="#" class="hover:text-red-400 transition duration-300">Services</a></li>
						<li><a href="/posts" class="hover:text-red-400 transition duration-300">Blog</a></li>
						<li><a href="#" id="open-consultation-modal-contact" class="hover:text-red-400 transition duration-300">Contact</a></li>
					</ul>
				</nav>
			</div>
		</header>
		<slot />

		<!-- Ebook Popup Form Modal -->
		<div id="lead-form-modal" class="fixed inset-0 bg-sky-200 bg-opacity-90 flex items-center justify-center z-50 hidden">
			<div class="bg-sky-100 p-8 rounded-lg shadow-xl max-w-lg w-full relative">
				<button id="close-ebook-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
				<h2 class="text-3xl font-bold mb-6 text-center text-gray-800">Download Your Ebook</h2>
				<form id="ebook-form" class="grid grid-cols-1 gap-4">
					<input type="hidden" id="ebook-page-of-click" name="page_of_click">
					<div>
						<label for="ebook-first-name" class="block text-gray-700 text-sm font-bold mb-2">First Name:</label>
						<input type="text" id="ebook-first-name" name="first_name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
					</div>
					<div>
						<label for="ebook-last-name" class="block text-gray-700 text-sm font-bold mb-2">Last Name:</label>
						<input type="text" id="ebook-last-name" name="last_name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
					</div>
					<div>
						<label for="ebook-email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
						<input type="email" id="ebook-email" name="email" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
					</div>
					<div class="col-span-1 text-center">
						<button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline transition duration-300">Download Ebook</button>
					</div>
				</form>
			</div>
		</div>

		<!-- Consultation Popup Form Modal -->
		<div id="consultation-form-modal" class="fixed inset-0 bg-green-200 bg-opacity-90 flex items-center justify-center z-50 hidden">
			<div class="bg-green-100 p-8 rounded-lg shadow-xl max-w-lg w-full relative">
				<button id="close-consultation-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
				<h2 class="text-3xl font-bold mb-6 text-center text-gray-800">Get a Free Consultation</h2>
				<form id="consultation-form" class="grid grid-cols-1 gap-4">
					<input type="hidden" id="consultation-page-of-click" name="page_of_click">
					<div>
						<label for="consultation-first-name" class="block text-gray-700 text-sm font-bold mb-2">First Name:</label>
						<input type="text" id="consultation-first-name" name="first_name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
					</div>
					<div>
						<label for="consultation-last-name" class="block text-gray-700 text-sm font-bold mb-2">Last Name:</label>
						<input type="text" id="consultation-last-name" name="last_name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
					</div>
					<div>
						<label for="consultation-email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
						<input type="email" id="consultation-email" name="email" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
					</div>
					<div>
						<label for="consultation-company" class="block text-gray-700 text-sm font-bold mb-2">Company:</label>
						<input type="text" id="consultation-company" name="company" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
					</div>
					<div>
						<label for="consultation-challenge" class="block text-gray-700 text-sm font-bold mb-2">Your biggest challenge is...</label>
						<textarea id="consultation-challenge" name="challenge" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="4"></textarea>
					</div>
					<div class="col-span-1 text-center">
						<button type="submit" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-full focus:outline-none focus:shadow-outline transition duration-300">Request Consultation</button>
					</div>
				</form>
			</div>
		</div>

	<footer class="bg-gray-800 text-white py-8 mt-12">
			<div class="container mx-auto px-4 text-center">
				<div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-8 mb-4">
					<a href="/about" class="hover:underline">About</a>
					<a href="/privacy" class="hover:underline">Privacy</a>
				</div>
				<p class="text-sm mb-2">123 Marketing Lane, Suite 456, Anytown, USA 12345</p>
				<p class="text-sm mb-2">Email: info@acmemarketing.us</p>
				<p class="text-sm">&copy; {new Date().getFullYear()} ACME Marketing. All rights reserved.</p>
			</div>
		</footer>
	<script>
// --- MODAL SCRIPT ---

// A. Get all the elements we need
const openEbookModalButtons = document.querySelectorAll('[id^="open-ebook-modal"]');
const ebookModal = document.getElementById('lead-form-modal');
const closeEbookModalButton = document.getElementById('close-ebook-modal');
const ebookPageOfClickInput = document.getElementById('ebook-page-of-click');

const openConsultationModalButton = document.getElementById('open-consultation-modal');
const openConsultationModalContactButton = document.getElementById('open-consultation-modal-contact');
const consultationModal = document.getElementById('consultation-form-modal');
const closeConsultationModalButton = document.getElementById('close-consultation-modal');
const consultationPageOfClickInput = document.getElementById('consultation-page-of-click');

// B. Generic Modal Functions
function showModal(modal, pageOfClickInput) {
  modal.classList.remove('hidden');
  modal.classList.add('flex');
  document.body.style.overflow = 'hidden';
  if (pageOfClickInput) {
    pageOfClickInput.value = window.location.href;
  }
}

function hideModal(modal) {
  modal.classList.add('hidden');
  modal.classList.remove('flex');
  document.body.style.overflow = '';
}

// C. Ebook Modal Logic
openEbookModalButtons.forEach(button => {
  button.addEventListener('click', (e) => {
    e.preventDefault();
    showModal(ebookModal, ebookPageOfClickInput);
  });
});

closeEbookModalButton.addEventListener('click', () => hideModal(ebookModal));
ebookModal.addEventListener('click', (e) => {
  if (e.target === ebookModal) {
    hideModal(ebookModal);
  }
});

// D. Consultation Modal Logic
if (openConsultationModalButton) {
  openConsultationModalButton.addEventListener('click', (e) => {
    e.preventDefault();
    showModal(consultationModal, consultationPageOfClickInput);
  });
}

if (openConsultationModalContactButton) {
	openConsultationModalContactButton.addEventListener('click', (e) => {
		e.preventDefault();
		showModal(consultationModal, consultationPageOfClickInput);
	});
}

if (closeConsultationModalButton) {
	closeConsultationModalButton.addEventListener('click', () => hideModal(consultationModal));
}

if (consultationModal) {
	consultationModal.addEventListener('click', (e) => {
		if (e.target === consultationModal) {
			hideModal(consultationModal);
		}
	});
}
</script>
	</body>
</html>
